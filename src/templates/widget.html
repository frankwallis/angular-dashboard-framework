<section class="widget-container dashboard-widget-container">
      <header class="widget-edit-mode-header"
             ng-if="editMode"
            ng-class="'contains-' + 
                        (2 + (widget.reload ? 1 : 0) + (canEdit ? 1 : 0) + (collapsible ? 1 : 0)) 
                        + '-menu-items'">
        <h2 class="widget-title" ng-attr-title="{{definition.title}}">
            {{definition.title}}
        </h2>
        <nav class="widget-edit-menu">
            <ul class="menu"> 
                <li class="menu-item" ng-if="widget.reload">
                    <a href="" class="icon widget-refresh" title="reload widget content" ng-click="reload()">
                      <span class="menu-item-text">Refresh</span>
                    </a>
                </li>
                <!-- change widget location -->
                <li class="menu-item" ng-if="editMode">
                    <a href="" class="icon widget-move" title="change widget location">
                      <span class="menu-item-text">Move</span>
                    </a>
                </li>
                <!-- collapse -->
                <li class="menu-item" ng-if="collapsible && !isCollapsed">
                    <a href="" class="icon widget-collapse" title="collapse widget" ng-show="collapsible && !isCollapsed" ng-click="isCollapsed = !isCollapsed">
                      <span class="menu-item-text">Collapse</span>
                    </a>
                </li>
                <!-- expand -->
                <li class="menu-item" ng-if="collapsible && isCollapsed">
                    <a href="" class="icon widget-expand" title="expand widget" ng-click="isCollapsed = !isCollapsed">
                      <span class="menu-item-text">Expand</span>
                    </a>
                </li>
                <!-- open edit mode -->
                <li class="menu-item" ng-if="canEdit && editMode">
                    <a href="" class="icon widget-edit" title="edit widget configuration" ng-click="edit()">
                      <span class="menu-item-text">Edit</span>
                    </a>
                </li>
                <!-- remove widget -->
                <li class="menu-item" ng-if="editMode">
                    <a href="" class="icon widget-remove" title="remove widget" ng-click="close()">
                      <span class="menu-item-text">Remove</span>
                    </a>
                </li>
            </ul>
        </nav>
      </header>
      <adf-widget-content class="widget-content" model="definition" content="widget" collapse="isCollapsed"/>
</section>
